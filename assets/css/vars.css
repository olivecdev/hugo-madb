/* Cascade Layers Definition */
@layer reset, base, components, utilities;

@font-face {
  font-family: 'Ubuntu';
  src: url('../fonts/UbuntuSans[wdth,wght].woff2') format('woff2');
}

@font-face {
  font-family: 'Ubuntu';
  src: url('../fonts/UbuntuSans-italic[wdth,wght].woff2') format('woff2');
  font-style: italic;
}

@font-face {
  font-family: 'Open Sans';
  src: url('../fonts/OpenSans-Italic-VariableFont_wdth,wght.ttf') format('truetype');
  font-style: italic;
}

@font-face {
  font-family: 'Open Sans';
  src: url('../fonts/OpenSans-VariableFont_wdth,wght.ttf') format('truetype');
}

@font-face {
  font-family: 'VictorMono';
  src: url('../fonts/VictorMono-Italic-VariableFont_wght.ttf') format('truetype');
  font-style: italic;
}

@font-face {
  font-family: 'VictorMono';
  src: url('../fonts/VictorMono-VariableFont_wght.ttf') format('truetype');
}

@layer base {
  :root {
    /* Primitive colors using OKLCH color space */
    --color-white: oklch(100% 0 0);
    --color-smoke-10: oklch(99% 0 0);
    --color-smoke-30: oklch(98% 0 0);
    --color-smoke-50: oklch(96% 0 0);
    --color-smoke-70: oklch(94% 0 0);
    --color-smoke-90: oklch(89% 0 0);
    --color-gray-10: oklch(79% 0 0);
    --color-gray-30: oklch(62% 0 0);
    --color-gray-50: oklch(57% 0 0);
    --color-gray-70: oklch(44% 0 0);
    --color-jet-20: oklch(36% 0 0);
    --color-jet-30: oklch(32% 0 0);
    --color-jet-50: oklch(25% 0 0);
    --color-jet-70: oklch(18% 0 0);
    --color-jet-80: oklch(14% 0 0);
    --color-black: oklch(0% 0 0);
    
    /* Typography System */
    --rem-base: 18;
    
    /* Fluid typography using clamp() */
    --body-font-size: clamp(1.0625rem, 1rem + 0.3125vw, 1.125rem);
    --body-font-size--print: 0.9375em;
    --body-line-height: 1.15;
    --body-font-color: var(--color-jet-70);
    --body-font-family: 'Open Sans', "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji";
    --body-font-weight-bold: 500;
    --monospace-font-family: VictorMono, SFMono-Regular, Consolas, "Liberation Mono", Menlo, monospace;
    --monospace-font-weight-bold: 500;
    
    /* Semantic Color Tokens - Base Theme */
    --body-background: var(--color-white);
    --panel-background: var(--color-smoke-30);
    --panel-border-color: var(--color-smoke-90);
    --scrollbar-thumb-color: var(--color-gray-10);
    
    /* Navbar Tokens */
    --navbar-background: var(--color-jet-80);
    --navbar-font-color: var(--color-white);
    --navbar_hover-background: var(--color-black);
    --navbar-button-background: var(--color-white);
    --navbar-button-border-color: var(--panel-border-color);
    --navbar-button-font-color: var(--body-font-color);
    --navbar-menu-border-color: var(--panel-border-color);
    --navbar-menu-background: var(--color-white);
    --navbar-menu-font-color: var(--body-font-color);
    --navbar-menu_hover-background: var(--color-smoke-50);
    
    /* Navigation Tokens */
    --nav-background: var(--panel-background);
    --nav-border-color: var(--color-gray-10);
    --nav-line-height: 1.35;
    --nav-heading-font-color: var(--color-jet-30);
    --nav-muted-color: var(--color-gray-70);
    --nav-panel-divider-color: var(--color-smoke-90);
    --nav-secondary-background: var(--color-smoke-70);
    
    /* Toolbar Tokens */
    --toolbar-background: var(--panel-background);
    --toolbar-border-color: var(--panel-border-color);
    --toolbar-font-color: var(--color-gray-70);
    --toolbar-muted-color: var(--color-gray-30);
    --page-version-menu-background: var(--color-smoke-70);
    --page-version-missing-font-color: var(--color-gray-30);
    
    /* Admonition Colors (using OKLCH) */
    --caution-color: oklch(52% 0.19 320);
    --caution-on-color: var(--color-white);
    --important-color: oklch(54% 0.22 25);
    --important-on-color: var(--color-white);
    --note-color: oklch(58% 0.20 250);
    --note-on-color: var(--color-white);
    --tip-color: oklch(63% 0.19 145);
    --tip-on-color: var(--color-white);
    --warning-color: oklch(67% 0.17 55);
    --warning-on-color: var(--color-white);
    
    /* Document Content Tokens */
    --doc-font-color: var(--color-jet-50);
    /* Fluid font size: starts at body font size, grows slightly on larger screens */
    --doc-font-size: clamp(1rem, 1.5vw + 0.5rem, calc(17 / var(--rem-base) * 1rem));
    --doc-line-height: 1.6;
    /* Margin handled per breakpoint in doc.css */
    --doc-margin: 0 auto;
    --doc-margin--desktop: 0 2rem;
    --heading-font-color: var(--color-jet-80);
    --heading-font-weight: 450;
    --alt-heading-font-weight: var(--body-font-weight-bold);
    --section-divider-color: var(--panel-border-color);
    
    /* Fluid max width: grows from 720px to 1080px as viewport increases */
    --doc-max-inline-size: clamp(calc(720 / var(--rem-base) * 1rem), 85vw, calc(1080 / var(--rem-base) * 1rem));
    
    /* Link Colors (using OKLCH) */
    --link-font-color: oklch(49% 0.13 250);
    --link_hover-font-color: oklch(42% 0.13 250);
    --link_unresolved-font-color: var(--important-color);
    
    /* Content Block Tokens */
    --abstract-background: var(--color-smoke-70);
    --abstract-font-color: var(--color-jet-20);
    --abstract-border-color: var(--panel-border-color);
    --admonition-background: var(--panel-background);
    --admonition-label-font-weight: var(--body-font-weight-bold);
    --caption-font-color: var(--color-gray-70);
    --caption-font-weight: var(--body-font-weight-bold);
    --code-background: var(--color-smoke-90);
    --code-font-color: var(--body-font-color);
    --example-background: var(--color-white);
    --example-border-color: var(--color-gray-70);
    --kbd-background: var(--panel-background);
    --kbd-border-color: var(--color-gray-10);
    --pre-background: var(--panel-background);
    --pre-border-color: var(--panel-border-color);
    --pre-annotation-font-color: var(--color-gray-50);
    --quote-background: var(--panel-background);
    --quote-border-color: var(--color-gray-70);
    --quote-font-color: var(--color-gray-70);
    --quote-attribution-font-color: var(--color-gray-30);
    --sidebar-background: var(--color-smoke-90);
    --table-border-color: var(--panel-border-color);
    --table-stripe-background: var(--panel-background);
    --table-footer-background: linear-gradient(to bottom, var(--color-smoke-70) 0%, var(--color-white) 100%);
    
    /* TOC Tokens */
    --toc-font-color: var(--nav-muted-color);
    --toc-heading-font-color: var(--doc-font-color);
    --toc-border-color: var(--panel-border-color);
    --toc-line-height: 1.2;
    
    /* Footer Tokens */
    --footer-line-height: var(--doc-line-height);
    --footer-background: var(--color-smoke-90);
    --footer-font-color: var(--color-gray-70);
    --footer-link-font-color: var(--color-jet-80);
    
    /* Dimensions & Positioning - Using Fluid Values */
    --navbar-height: clamp(3rem, calc(63 / var(--rem-base) * 1rem), 3.5rem);
    --toolbar-height: calc(45 / var(--rem-base) * 1rem);
    --drawer-height: var(--toolbar-height);
    --body-block-start: var(--navbar-height);
    --body-min-block-size: calc(100vh - var(--body-block-start));
    --nav-block-size: calc(var(--body-min-block-size) - var(--toolbar-height));
    --nav-block-size--desktop: var(--body-min-block-size);
    --nav-panel-menu-block-size: calc(100% - var(--drawer-height));
    --nav-panel-explore-block-size: calc(50% + var(--drawer-height));
    --nav-inline-size: calc(270 / var(--rem-base) * 1rem);
    --toc-block-start: calc(var(--body-block-start) + var(--toolbar-height));
    --toc-block-size: calc(100vh - var(--toc-block-start) - 2.5rem);
    --toc-inline-size: calc(162 / var(--rem-base) * 1rem);
    --toc-inline-size--widescreen: calc(216 / var(--rem-base) * 1rem);
    
    /* Stacking Context */
    --z-index-nav: 1;
    --z-index-toolbar: 2;
    --z-index-page-version-menu: 3;
    --z-index-navbar: 4;
    
    /* Legacy dimension aliases for backwards compatibility */
    --body-top: var(--body-block-start);
    --body-min-height: var(--body-min-block-size);
    --nav-height: var(--nav-block-size);
    --nav-height--desktop: var(--nav-block-size--desktop);
    --nav-panel-menu-height: var(--nav-panel-menu-block-size);
    --nav-panel-explore-height: var(--nav-panel-explore-block-size);
    --nav-width: var(--nav-inline-size);
    --toc-top: var(--toc-block-start);
    --toc-height: var(--toc-block-size);
    --toc-width: var(--toc-inline-size);
    --toc-width--widescreen: var(--toc-inline-size--widescreen);
    --doc-max-width: var(--doc-max-inline-size);
  }
}